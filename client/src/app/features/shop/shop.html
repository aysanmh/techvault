@if (devices){

  <div class="flex flex-col gap-8 p-4">

  <div class="flex flex-col md:flex-row justify-between items-center gap-6">

    <div class="mb-4 md:mb-0 md:mr-6">
      <mat-paginator
        (page)="handlePageEvent($event)"
        [length]="devices.count"
        [pageSize]="shopParams.pageSize"
        [showFirstLastButtons]="true"
        [pageSizeOptions]="pageSizeOptions"
        [pageIndex]="shopParams.pageNumber - 1"
        aria-label="Select page"
        
      >
      </mat-paginator>
    </div>

    <form 
      #searchForm="ngForm" 
      (ngSubmit)="onSearchChange()"
      class="flex items-center w-full max-w-md mb-4 md:mb-0"
    >
      <input type="search" 
        class="block w-full p-3 text-sm text-gray-200 bg-gray-900 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-400"
        placeholder="Search"
        name="search"
        [(ngModel)]="shopParams.search"
      />
      <button mat-icon-button type="submit" class="ml-2 text-cyan-400 hover:text-cyan-300">
        <mat-icon>search</mat-icon>
      </button>
    </form>

    <div class="flex gap-3">
      <button class="match-input-height flex items-center gap-1 px-3 py-2 bg-gray-800 text-gray-200 rounded-lg hover:bg-gray-700" (click)="openFiltersDialog()">
        <mat-icon class="text-cyan-400">filter_list</mat-icon>
        Filters  
      </button>
      <button class="match-input-height flex items-center gap-1 px-3 py-2 bg-gray-800 text-gray-200 rounded-lg hover:bg-gray-700" mat-stroked-button [matMenuTriggerFor]="sortMenu">
        <mat-icon class="text-cyan-400">swap_vert</mat-icon>
        Sort  
      </button>
    </div>

  </div>

  <div class="flex justify-center mt-6">
    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6 w-full max-w-screen-2xl">
      <app-device-item *ngFor="let device of devices.data" [device]="device"></app-device-item>
    </div>
  </div>

</div>

<mat-menu #sortMenu="matMenu">
  <mat-selection-list [multiple]="false" (selectionChange)="onSortChange($event)">
    <mat-list-option *ngFor="let sort of sortOptions" [value]="sort.value" [selected]="shopParams.sort === sort.value">
      {{sort.name}}
    </mat-list-option>
  </mat-selection-list>
</mat-menu>

}